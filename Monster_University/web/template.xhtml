<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title><ui:insert name="title">Default Title</ui:insert></title>
    <h:outputStylesheet library="css" name="jsfcrud.css"/>
    <h:outputScript library="js" name="jsfcrud.js"/>

   <style>
    .layout-container {
        display: grid;
        grid-template-rows: 65px auto 60px;
        min-height: 100vh;
        width: 100%;
    }

    .layout-north {
        grid-row: 1;
        background-color: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
        padding: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 10; /* Asegura que el header esté sobre la imagen */
    }

    .layout-center {
        grid-row: 2;
        padding: 1rem;
        overflow: auto;
        /* Imagen de fondo con overlay (degradado) */
        background-image: 
            linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
            url('https://www.bangor.ac.uk/sites/default/files/styles/16x9_1100w/public/2020-05/CB%202018%20May%20%2837%29.jpg?h=41ef3158&amp;itok=zGs3cG5Q');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
        position: relative;
    }

    /* (Overlay integrado en el background via gradient) */

    .layout-south {
        grid-row: 3;
        background-color: rgba(233, 236, 239, 0.9); /* Semi-transparente */
        border-top: 1px solid #dee2e6;
        padding: 0.5rem;
        display: flex;
        align-items: center;
        z-index: 10; /* Asegura que el footer esté sobre la imagen */
    }

    .app-header {
        font-size: 1.6rem;
        font-weight: bold;
        color: #2a64c5;
    }

    .menu-btn, .user-btn {
        font-weight: bold;
        margin-left: 10px;
    }

    .user-menu {
        display: flex;
        justify-content: flex-end;
        width: 100%;
    }
</style>
</h:head>

<h:body>

    <p:growl id="growl" life="3000"/>

    <!-- Global delete confirmation dialog available to all pages (must be inside a form) -->
    <h:form id="globalConfirmForm">
        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="warn">
            <p:commandButton value="Sí, eliminar" type="button" styleClass="ui-confirmdialog-yes p-button-danger" icon="pi pi-trash"/>
            <p:commandButton value="Cancelar" type="button" styleClass="ui-confirmdialog-no p-button-secondary" icon="pi pi-times"/>
        </p:confirmDialog>
        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="info">
            <p:commandButton value="Sí, guardar" type="button" styleClass="ui-confirmdialog-yes p-button-primary" icon="pi pi-check"/>
            <p:commandButton value="Cancelar" type="button" styleClass="ui-confirmdialog-no p-button-secondary" icon="pi pi-times"/>
        </p:confirmDialog>
    </h:form>

    <div class="layout-container">

        <!-- ==================================== HEADER ====================================== -->
        <div class="layout-north">

            <!-- TÍTULO -->
            <div class="app-header">MONSTER UNIVERSITY</div>

            <!-- MENÚS -->
            <div class="user-menu">
                <h:form id="menuForm">
                    <p:button value="Home"
                              icon="pi pi-home "
                              outcome="/index1.xhtml"
                              />
                    <!-- PERSONAL -->
                    <p:menuButton value="Personal" styleClass="menu-btn">
                        <p:menuitem value="Crear Personal"
                                    icon="pi pi-user"
                                    outcome="/crearpersonal.xhtml"/>
                    </p:menuButton>

                    <!-- FINANZAS -->
                    <p:menuButton value="Finanzas" styleClass="menu-btn">
                        
                    </p:menuButton>

                    <!-- ACADÉMICO -->
                    <p:menuButton value="Académico" styleClass="menu-btn">
                        <p:menuitem value="Administrar Carreras"
                                    icon="pi pi-briefcase"
                                    outcome="/mecarrCarrera/List.xhtml"/>
                        <p:menuitem value="Reporte de Carreras"
                                    icon=""
                                    outcome="/reporte_carreras.xhtml"/>
                    </p:menuButton>

                    <!-- SEGURIDAD -->
                    <p:menuButton value="Seguridad" styleClass="menu-btn">
                        
                    </p:menuButton>

                    <!-- USUARIO LOGUEADO -->
                    <p:menuButton value="#{loginController.usuarioLogueado.xeusuNombre}"
                                  icon="pi pi-user"
                                  styleClass="menu-btn"
                                  rendered="#{loginController.loggedIn}">

                        <p:menuitem value="Cambiar contraseña"
                                    icon="pi pi-key"
                                    outcome="/cambioContrasena.xhtml"/>
                        

                        <p:menuitem value="Cerrar sesión"
                                    icon="pi pi-sign-out"
                                    action="#{loginController.doLogout}"
                                    ajax="false"/>
                    </p:menuButton>

                    <!-- LOGIN SI NO ESTÁ LOGUEADO -->
                    <p:button value="Iniciar Sesión"
                              icon="pi pi-sign-in"
                              outcome="/login.xhtml"
                              rendered="#{not loginController.loggedIn}" />
                </h:form>
            </div>
        </div>

        <!-- ==================================== CONTENIDO CENTRAL ====================================== -->
        <div class="layout-center">
            <ui:insert name="body"/>
        </div>

        <!-- ==================================== FOOTER ====================================== -->
        <div class="layout-south">
            <ui:insert name="footer"/>

            
        </div>

    </div>

</h:body>
</html>
    